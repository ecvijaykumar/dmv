<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>T-Drive App</title>
    <link rel="icon" type="image/svg+xml" href="/assets/t-drive-favicon.svg" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;700&display=swap" rel="stylesheet" />
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            fontFamily: {
              sans: ["Space Grotesk", "ui-sans-serif", "system-ui"]
            },
            colors: {
              brand: {
                50: "#ecfeff",
                100: "#cffafe",
                500: "#06b6d4",
                600: "#0891b2",
                700: "#0e7490"
              }
            }
          }
        }
      };
    </script>
  </head>
  <body class="min-h-screen bg-slate-950 text-slate-100">
    <div class="fixed inset-0 -z-10 overflow-hidden">
      <div class="absolute -top-20 left-10 h-72 w-72 rounded-full bg-cyan-500/30 blur-3xl"></div>
      <div class="absolute top-40 right-20 h-80 w-80 rounded-full bg-blue-600/20 blur-3xl"></div>
      <div class="absolute bottom-0 left-1/3 h-80 w-80 rounded-full bg-emerald-500/20 blur-3xl"></div>
    </div>

    <main class="mx-auto w-full max-w-6xl px-4 py-8 sm:px-6 lg:px-8">
      <header class="mb-8 rounded-2xl border border-white/10 bg-slate-900/70 p-6 shadow-2xl backdrop-blur">
        <p class="mb-2 inline-block rounded-full border border-cyan-300/40 bg-cyan-400/10 px-3 py-1 text-xs font-semibold uppercase tracking-widest text-cyan-200">
          Secure T-Drive Logging
        </p>
        <div class="flex items-center gap-4">
          <img src="/assets/t-drive-logo.svg" alt="T-Drive App logo" class="h-14 w-14 rounded-xl border border-white/20 bg-slate-900/70 p-1" />
          <h1 class="text-3xl font-bold tracking-tight sm:text-4xl">T-Drive App</h1>
        </div>
        <p class="mt-3 max-w-2xl text-slate-300">
          Track supervised driving sessions with secure multi-user access, then filter by driver profile for DMV record preparation.
        </p>
      </header>

      <section class="mb-6 grid gap-4 lg:grid-cols-3">
        <div class="rounded-2xl border border-white/10 bg-slate-900/70 p-5 shadow-xl backdrop-blur lg:col-span-2">
          <h2 class="mb-4 text-xl font-semibold">Secure Login</h2>
          <p id="authStatus" class="mb-4 rounded-lg border border-slate-700 bg-slate-800/60 px-3 py-2 text-sm text-slate-300">Checking session...</p>
          <div class="grid gap-3 sm:grid-cols-2 lg:grid-cols-3">
            <button id="googleLoginBtn" type="button" class="rounded-lg bg-brand-500 px-4 py-2 font-semibold text-slate-950 transition hover:bg-brand-100">
              Login with Gmail
            </button>
            <input id="phoneNumber" placeholder="+14085551234" class="rounded-lg border border-slate-700 bg-slate-900 px-3 py-2 text-sm text-slate-100 placeholder-slate-500 outline-none ring-cyan-400 transition focus:ring-2" />
            <button id="sendOtpBtn" type="button" class="rounded-lg border border-cyan-400/40 bg-cyan-500/10 px-4 py-2 font-medium text-cyan-100 transition hover:bg-cyan-500/20">
              Send OTP
            </button>
            <input id="otpCode" placeholder="OTP code" class="rounded-lg border border-slate-700 bg-slate-900 px-3 py-2 text-sm text-slate-100 placeholder-slate-500 outline-none ring-cyan-400 transition focus:ring-2" />
            <button id="verifyOtpBtn" type="button" class="rounded-lg border border-emerald-400/40 bg-emerald-500/10 px-4 py-2 font-medium text-emerald-100 transition hover:bg-emerald-500/20">
              Verify OTP
            </button>
            <button id="signOutBtn" class="hidden rounded-lg border border-rose-400/40 bg-rose-500/10 px-4 py-2 font-medium text-rose-100 transition hover:bg-rose-500/20" type="button">
              Sign out
            </button>
          </div>
          <div id="recaptcha-container" class="mt-4"></div>
        </div>

        <div class="rounded-2xl border border-white/10 bg-slate-900/70 p-5 shadow-xl backdrop-blur">
          <h2 class="mb-3 text-xl font-semibold">Driver Profile</h2>
          <label class="mb-2 block text-sm text-slate-300">Profile ID (e.g. teen-1, teen-2)</label>
          <input id="profileId" value="teen-1" required class="w-full rounded-lg border border-slate-700 bg-slate-900 px-3 py-2 text-sm text-slate-100 placeholder-slate-500 outline-none ring-cyan-400 transition focus:ring-2" />
        </div>
      </section>

      <section class="mb-6 grid gap-4 xl:grid-cols-5">
        <div class="rounded-2xl border border-white/10 bg-slate-900/70 p-5 shadow-xl backdrop-blur xl:col-span-3">
          <h2 class="mb-4 text-xl font-semibold">Add Session</h2>
          <form id="sessionForm" class="hidden grid gap-3 sm:grid-cols-2">
            <label class="text-sm text-slate-300">Date
              <input name="date" type="date" required class="mt-1 w-full rounded-lg border border-slate-700 bg-slate-900 px-3 py-2 text-sm text-slate-100 outline-none ring-cyan-400 transition focus:ring-2" />
            </label>
            <label class="text-sm text-slate-300">Start time
              <input name="startTime" type="time" required class="mt-1 w-full rounded-lg border border-slate-700 bg-slate-900 px-3 py-2 text-sm text-slate-100 outline-none ring-cyan-400 transition focus:ring-2" />
            </label>
            <label class="text-sm text-slate-300">Duration (minutes)
              <input name="durationMinutes" type="number" min="1" required class="mt-1 w-full rounded-lg border border-slate-700 bg-slate-900 px-3 py-2 text-sm text-slate-100 outline-none ring-cyan-400 transition focus:ring-2" />
            </label>
            <label class="text-sm text-slate-300">Day/Night
              <select name="timeOfDay" required class="mt-1 w-full rounded-lg border border-slate-700 bg-slate-900 px-3 py-2 text-sm text-slate-100 outline-none ring-cyan-400 transition focus:ring-2">
                <option value="day">Day</option>
                <option value="night">Night</option>
              </select>
            </label>
            <label class="text-sm text-slate-300">Weather
              <select name="weather" required class="mt-1 w-full rounded-lg border border-slate-700 bg-slate-900 px-3 py-2 text-sm text-slate-100 outline-none ring-cyan-400 transition focus:ring-2">
                <option value="clear">Clear</option>
                <option value="rain">Rain</option>
                <option value="fog">Fog</option>
                <option value="snow">Snow</option>
                <option value="wind">Wind</option>
              </select>
            </label>
            <label class="text-sm text-slate-300 sm:col-span-2">Notes
              <textarea name="notes" rows="3" class="mt-1 w-full rounded-lg border border-slate-700 bg-slate-900 px-3 py-2 text-sm text-slate-100 outline-none ring-cyan-400 transition focus:ring-2"></textarea>
            </label>
            <button type="submit" class="rounded-lg bg-brand-500 px-4 py-2 font-semibold text-slate-950 transition hover:bg-brand-100 sm:w-fit">
              Save Session
            </button>
          </form>
        </div>

        <div class="rounded-2xl border border-white/10 bg-slate-900/70 p-5 shadow-xl backdrop-blur xl:col-span-2">
          <h2 class="mb-4 text-xl font-semibold">Summary</h2>
          <div id="stats" class="text-sm text-slate-300">Loading...</div>
        </div>
      </section>

      <section class="rounded-2xl border border-white/10 bg-slate-900/70 p-5 shadow-xl backdrop-blur">
        <h2 class="mb-4 text-xl font-semibold">Sessions</h2>
        <ul id="sessionList" class="space-y-3"></ul>
      </section>
    </main>

    <script src="/app.js" type="module"></script>
  </body>
</html>
